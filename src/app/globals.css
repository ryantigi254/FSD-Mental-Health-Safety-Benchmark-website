@import "tailwindcss";

/* ─── FSD Mental Health Safety Benchmark Design Tokens ─── */
@theme {
  /* Brand palette — matched to presentation deck */
  --color-fsd-blue-soft: #3D8B8B;
  --color-fsd-orange: #ED7D31;
  --color-fsd-grey: #A5A5A5;
  --color-fsd-amber: #FFC107;
  --color-fsd-blue-deep: #1A3D5C;
  --color-fsd-green: #28A745;
  --color-fsd-red: #DC3545;
  --color-fsd-black: #000000;
  --color-fsd-charcoal: #212529;
  --color-fsd-light: #EEEEEE;
  --color-fsd-white: #FFFFFF;
  --color-fsd-off-white: #F8F9FA;
  --color-fsd-cool-grey: #6C757D;

  /* Teal accent (primary deck colour) */
  --color-fsd-teal: #3D8B8B;
  /* Dark supporting colour */
  --color-fsd-dark: #1A3D5C;

  /* Semantic aliases */
  --color-primary: #3D8B8B;
  --color-accent: #ED7D31;
  --color-success: #28A745;
  --color-warning: #FFC107;
  --color-danger: #DC3545;
  --color-surface: #FFFFFF;
  --color-surface-alt: #F8F9FA;
  --color-text-primary: #212529;
  --color-text-secondary: #6C757D;

  /* Typography */
  --font-sans: var(--font-inter), ui-sans-serif, system-ui, -apple-system, sans-serif;
  --font-mono: var(--font-jetbrains), ui-monospace, monospace;

  /* Spacing extras */
  --spacing-18: 4.5rem;
  --spacing-22: 5.5rem;
  --spacing-30: 7.5rem;

  /* Shadows */
  --shadow-card: 0 1px 3px rgba(0, 0, 0, 0.08), 0 1px 2px rgba(0, 0, 0, 0.06);
  --shadow-card-hover: 0 4px 12px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06);
  --shadow-nav: 0 1px 3px rgba(0, 0, 0, 0.06);

  /* Underglow shadows — coloured ambient light beneath elements */
  --shadow-glow-teal: 0 10px 40px -4px rgba(61, 139, 139, 0.45), 0 4px 16px -2px rgba(61, 139, 139, 0.3);
  --shadow-glow-dark: 0 10px 40px -4px rgba(26, 61, 92, 0.45), 0 4px 16px -2px rgba(26, 61, 92, 0.3);
  --shadow-glow-teal-sm: 0 6px 24px -2px rgba(61, 139, 139, 0.35);
  --shadow-glow-amber: 0 10px 36px -4px rgba(255, 193, 7, 0.4), 0 4px 14px -2px rgba(255, 193, 7, 0.25);
  --shadow-glow-green: 0 10px 36px -4px rgba(40, 167, 69, 0.4), 0 4px 14px -2px rgba(40, 167, 69, 0.25);
  --shadow-glow-red: 0 10px 36px -4px rgba(220, 53, 69, 0.35), 0 4px 14px -2px rgba(220, 53, 69, 0.2);

  /* Animations */
  --animate-fade-in: fade-in 0.6s ease-out both;
  --animate-slide-up: slide-up 0.6s ease-out both;
  --animate-glow-pulse: glow-pulse 3s ease-in-out infinite;
  --animate-ambient-drift: ambient-drift 12s ease-in-out infinite;

  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes slide-up {
    from { opacity: 0; transform: translateY(1.5rem); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes glow-pulse {
    0%, 100% { opacity: 0.6; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.05); }
  }

  @keyframes ambient-drift {
    0%, 100% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(15px, -10px) scale(1.02); }
    66% { transform: translate(-10px, 8px) scale(0.98); }
  }
}

/* ─── Base styles ─── */
@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 5rem;
  }

  body {
    color: var(--color-text-primary);
    background-color: var(--color-surface);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  ::selection {
    background-color: var(--color-fsd-teal);
    color: var(--color-fsd-white);
  }

  :focus-visible {
    outline: 2px solid var(--color-fsd-teal);
    outline-offset: 2px;
    border-radius: 2px;
  }

  /* Heading typography */
  h1, h2, h3, h4 {
    color: var(--color-fsd-charcoal);
    font-weight: 700;
    letter-spacing: -0.02em;
    line-height: 1.2;
  }
}

/* ─── CTA edge orbit effect ─── */
@layer components {
  .cta-edge-loader {
    position: relative;
    overflow: hidden;
    isolation: isolate;
    --cta-edge-base: color-mix(in oklab, currentColor 36%, transparent);
    --cta-edge-bright: color-mix(in oklab, var(--color-fsd-green) 88%, white 12%);
    transition: border-color 180ms ease-in-out, box-shadow 180ms ease-in-out;
  }

  .cta-edge-loader::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    box-shadow: inset 0 0 0 1px var(--cta-edge-base);
    opacity: 0.85;
    transition: box-shadow 180ms ease-in-out, opacity 180ms ease-in-out;
  }

  .cta-edge-loader::before {
    content: "";
    position: absolute;
    width: 30px;
    height: 2px;
    border-radius: 999px;
    background: var(--cta-edge-bright);
    box-shadow: 0 0 8px color-mix(in oklab, var(--cta-edge-bright) 70%, transparent);
    opacity: 0;
    offset-path: rect(1px calc(100% - 1px) calc(100% - 1px) 1px round 10px);
    offset-distance: 0%;
    offset-rotate: 0deg;
    pointer-events: none;
    transition: opacity 160ms ease-in-out;
  }

  .cta-edge-loader:hover,
  .cta-edge-loader:focus-visible {
    border-color: color-mix(in oklab, var(--color-fsd-green) 65%, white 35%);
    box-shadow: 0 0 0 1px color-mix(in oklab, var(--color-fsd-green) 32%, transparent);
  }

  .cta-edge-loader:hover::after,
  .cta-edge-loader:focus-visible::after {
    box-shadow: inset 0 0 0 1px color-mix(in oklab, var(--color-fsd-green) 70%, white 30%);
    opacity: 1;
  }

  .cta-edge-loader:hover::before,
  .cta-edge-loader:focus-visible::before {
    opacity: 0.95;
    animation: cta-edge-orbit 1.2s linear infinite;
  }
}

@keyframes cta-edge-orbit {
  to { offset-distance: 100%; }
}

/* ─── Reduced motion ─── */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
